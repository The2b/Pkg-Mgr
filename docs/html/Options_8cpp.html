<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pkg-Mgr: src/backend/Options.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pkg-Mgr
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3f615ade772d23cefe5e20dcb18424a2.html">backend</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Options.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Options.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a440e13980e4ec57781a959e5e4d0ca59"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Options_8cpp.html#a440e13980e4ec57781a959e5e4d0ca59">configKeys</a></td></tr>
<tr class="separator:a440e13980e4ec57781a959e5e4d0ca59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ceade9f7f8e0d49c987decea75563b2"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, mode_s &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>modes</b></td></tr>
<tr class="separator:a1ceade9f7f8e0d49c987decea75563b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820fae10c13f03aa1c95ea943f3c4f3d"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Options_8cpp.html#a820fae10c13f03aa1c95ea943f3c4f3d">modeStrToInt</a></td></tr>
<tr class="separator:a820fae10c13f03aa1c95ea943f3c4f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b642eb8fdd9e773e70208044fc95d57"><td class="memItemLeft" align="right" valign="top">std::set&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Options_8cpp.html#a4b642eb8fdd9e773e70208044fc95d57">validModes</a></td></tr>
<tr class="separator:a4b642eb8fdd9e773e70208044fc95d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915a575475bf8b805346ff7acc5cbcc4"><td class="memItemLeft" align="right" valign="top">std::set&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Options_8cpp.html#a915a575475bf8b805346ff7acc5cbcc4">validOptMaskVals</a></td></tr>
<tr class="separator:a915a575475bf8b805346ff7acc5cbcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Thomas Lenz <a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'s.l'+'en'+'z96'+'@g'+'mai'+'l.'+'com'; return false;">thoma<span style="display: none;">.nosp@m.</span>s.le<span style="display: none;">.nosp@m.</span>nz96@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a> AS The2b </dd></dl>
<dl class="section date"><dt>Date</dt><dd>18 November 2018  Package Manager</dd></dl>
<p>-500</p>
<p>Just a note, since this is where we are storing all of our information, I decided to do all the option validation (from sources like config files and cli args) here, so that it's centralized. This may be broken apart later, such that the Options class is merely a warehouse, while we have another OptionsValidation class/set of functions to actually test the validity of the options passed to us. However, that will all be under the hood. </p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="a440e13980e4ec57781a959e5e4d0ca59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a440e13980e4ec57781a959e5e4d0ca59">&#9670;&nbsp;</a></span>configKeys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, unsigned int&gt; configKeys</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    { KEY_VERBOSE, MASK_VERBOSE },</div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    { KEY_SYSTEM_ROOT, MASK_SYSTEM_ROOT },</div><div class="line">    { KEY_TAR_LIBRARY_PATH, MASK_TAR_LIBRARY_PATH },</div><div class="line">    { KEY_INSTALLED_PKG_PATH, MASK_INSTALLED_PKG_PATH },</div><div class="line">    </div><div class="line">}</div></div><!-- fragment --><p>This map is used to translate configuration file options to values which we can use in switch statements, for efficiency This means that in order for a new configuration option to be recognized, its string representation, as well as a unique integer identifier must be added to this map. In addition, a valid option must also be added to the function applyConfig These values are set by pre-processor directives in Options.h </p>

</div>
</div>
<a id="a1ceade9f7f8e0d49c987decea75563b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ceade9f7f8e0d49c987decea75563b2">&#9670;&nbsp;</a></span>modes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, mode_s&gt; modes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    { INSTALL, mode_s{ INSTALL, <span class="stringliteral">&quot;install&quot;</span> } },</div><div class="line">    { UNINSTALL, mode_s{ UNINSTALL, <span class="stringliteral">&quot;uninstall&quot;</span> } },</div><div class="line">    { FOLLOW, mode_s{ FOLLOW, <span class="stringliteral">&quot;follow&quot;</span> } },</div><div class="line">    { UNFOLLOW, mode_s{ UNFOLLOW, <span class="stringliteral">&quot;unfollow&quot;</span> } },</div><div class="line">    { LIST_ALL, mode_s{ LIST_ALL, <span class="stringliteral">&quot;list-all&quot;</span> } },</div><div class="line">    { LIST_INSTALLED, mode_s{ LIST_INSTALLED, <span class="stringliteral">&quot;list-installed&quot;</span> } },</div><div class="line">    { NOP, mode_s{ NOP, NOP_KEY } }</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a820fae10c13f03aa1c95ea943f3c4f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820fae10c13f03aa1c95ea943f3c4f3d">&#9670;&nbsp;</a></span>modeStrToInt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, unsigned int&gt; modeStrToInt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    { <span class="stringliteral">&quot;install&quot;</span>,        INSTALL },</div><div class="line">    { <span class="stringliteral">&quot;i&quot;</span>,              INSTALL },</div><div class="line">    { <span class="stringliteral">&quot;uninstall&quot;</span>,      UNINSTALL },</div><div class="line">    { <span class="stringliteral">&quot;u&quot;</span>,              UNINSTALL },</div><div class="line">    { <span class="stringliteral">&quot;follow&quot;</span>,         FOLLOW },</div><div class="line">    { <span class="stringliteral">&quot;f&quot;</span>,              FOLLOW },</div><div class="line">    { <span class="stringliteral">&quot;unfollow&quot;</span>,       UNFOLLOW },</div><div class="line">    { <span class="stringliteral">&quot;uf&quot;</span>,             UNFOLLOW },</div><div class="line">    { <span class="stringliteral">&quot;list-all&quot;</span>,       LIST_ALL },</div><div class="line">    { <span class="stringliteral">&quot;la&quot;</span>,             LIST_ALL },</div><div class="line">    { <span class="stringliteral">&quot;list-installed&quot;</span>, LIST_INSTALLED },</div><div class="line">    { <span class="stringliteral">&quot;li&quot;</span>,             LIST_INSTALLED },</div><div class="line">    { NOP_KEY,          NOP }</div><div class="line">}</div></div><!-- fragment --><p>A dictionary used to translate mode strings into integers we can switch on In order to add a new mode of operation, its string representation(s) and integer identifier must be added to this map All of the integers, as well as NOP_KEY, are defined per pre-processor directives in Options.h </p>

</div>
</div>
<a id="a4b642eb8fdd9e773e70208044fc95d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b642eb8fdd9e773e70208044fc95d57">&#9670;&nbsp;</a></span>validModes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;unsigned int&gt; validModes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    0,1,2,3,4,5,6,7,8,9,99</div><div class="line">}</div></div><!-- fragment --><p>This is used as a validation set, such that we can check if a given mode is valid In order to add a new mode of operation, its identifier must be added to this set </p>

</div>
</div>
<a id="a915a575475bf8b805346ff7acc5cbcc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915a575475bf8b805346ff7acc5cbcc4">&#9670;&nbsp;</a></span>validOptMaskVals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;unsigned int&gt; validOptMaskVals</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    0,1,2,4,8,16,32,64,128,256</div><div class="line">}</div></div><!-- fragment --><p>This is a set used to validate that the optMask values we send to addToOptMask are valid Specifically, this set is used to make sure that any values given to addToOptMask are powers of two </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
