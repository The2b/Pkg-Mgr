\hypertarget{Pkg_8h}{}\section{Pkg.\+h File Reference}
\label{Pkg_8h}\index{Pkg.h@{Pkg.h}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$filesystem$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$set$>$}\newline
{\ttfamily \#include $<$archive.\+h$>$}\newline
{\ttfamily \#include $<$archive\+\_\+entry.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Options.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classPkg}{Pkg}}
\begin{DoxyCompactList}\small\item\em This class is a representation of all of the information and actions used for a package. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{Pkg_8h_a8d6ccb7678aead7b19bba6579a80d543}\label{Pkg_8h_a8d6ccb7678aead7b19bba6579a80d543}} 
\#define {\bfseries P\+R\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+\_\+\+N\+A\+ME}~\char`\"{}pre-\/install.\+sh\char`\"{}
\item 
\mbox{\Hypertarget{Pkg_8h_a53f3746ef212af1aebe0bff99b0d0b24}\label{Pkg_8h_a53f3746ef212af1aebe0bff99b0d0b24}} 
\#define {\bfseries P\+O\+S\+T\+\_\+\+I\+N\+S\+T\+A\+L\+L\+\_\+\+N\+A\+ME}~\char`\"{}post-\/install.\+sh\char`\"{}
\item 
\mbox{\Hypertarget{Pkg_8h_ab0608f9150f80a5c5207d1a13e729f2f}\label{Pkg_8h_ab0608f9150f80a5c5207d1a13e729f2f}} 
\#define {\bfseries P\+R\+E\+\_\+\+U\+N\+I\+N\+S\+T\+A\+L\+L\+\_\+\+N\+A\+ME}~\char`\"{}pre-\/uninstall.\+sh\char`\"{}
\item 
\mbox{\Hypertarget{Pkg_8h_a6b743b0fbc2aadc99f04cfb0f05bc6ec}\label{Pkg_8h_a6b743b0fbc2aadc99f04cfb0f05bc6ec}} 
\#define {\bfseries P\+O\+S\+T\+\_\+\+U\+N\+I\+N\+S\+T\+A\+L\+L\+\_\+\+N\+A\+ME}~\char`\"{}post-\/uninstall.\+sh\char`\"{}
\item 
\mbox{\Hypertarget{Pkg_8h_a7f22509e69eb0d258998462cf4a5a396}\label{Pkg_8h_a7f22509e69eb0d258998462cf4a5a396}} 
\#define {\bfseries T\+A\+R\+\_\+\+B\+L\+O\+C\+K\+S\+I\+ZE}~512
\item 
\mbox{\Hypertarget{Pkg_8h_a217a0bd562b98ae8c2ffce44935351e1}\label{Pkg_8h_a217a0bd562b98ae8c2ffce44935351e1}} 
\#define {\bfseries likely}(x)~\+\_\+\+\_\+builtin\+\_\+expect(static\+\_\+cast$<$bool$>$(x), 1)
\item 
\mbox{\Hypertarget{Pkg_8h_ac6c45889010c1bd68631771b64f18101}\label{Pkg_8h_ac6c45889010c1bd68631771b64f18101}} 
\#define {\bfseries unlikely}(x)~\+\_\+\+\_\+builtin\+\_\+expect(static\+\_\+cast$<$bool$>$(x), 0)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{Pkg_8h_a2b541937942473fe9cd3c7e8df19c097}{list\+All\+Pkgs}} (std\+::string library\+Path, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\begin{DoxyCompactList}\small\item\em Lists all of the packages which we can find in a given directory. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{Pkg_8h_a262418e704e8313487c01ab7153674c1}{list\+Installed\+Pkgs}} (std\+::string installed\+Pkgs\+Path, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\begin{DoxyCompactList}\small\item\em Lists all of the installed packages which we can find in our installed package index directory. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{Pkg_8h_a5a8c3142cc39dfb60c616f15ba7e559e}{open\+Archive\+With\+Tar\+Support}} (struct archive $\ast$\&a, std\+::string archive\+Path, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\begin{DoxyCompactList}\small\item\em Opens an archive for reading and sets up tar support. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Pkg_8h_a924c06d2916eda39b7fdbc315cd1b7e0}\label{Pkg_8h_a924c06d2916eda39b7fdbc315cd1b7e0}} 
int {\bfseries set\+Archive\+Entry\+To\+File} (std\+::string filepath, std\+::string archive\+Path, struct archive\+\_\+entry $\ast$\&archive\+Entry\+To\+Set, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\item 
int \mbox{\hyperlink{Pkg_8h_a567cbd39854eb13ee9c8ce7e32b1f060}{extract\+And\+Exec\+Script}} (std\+::string script\+Name, std\+::string extraction\+Dir, std\+::string archive\+Path, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\begin{DoxyCompactList}\small\item\em Extracts and executes a script from a tarball. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Pkg_8h_a3db154f3a3b260e83110c40ea3be7f3c}{add\+Scripts\+To\+Exclusions}} (std\+::set$<$ std\+::string $>$ \&exclusions)
\begin{DoxyCompactList}\small\item\em Adds the pre-\/ and post-\/ install/uninstall scripts to the exclusions list. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{Pkg_8h_a7aae83710eaee6db9df385d916cd0d5d}{move\+To\+Dir}} (std\+::string path, unsigned int verbosity=D\+E\+F\+A\+U\+L\+T\+\_\+\+V\+E\+R\+B\+O\+S\+I\+TY)
\begin{DoxyCompactList}\small\item\em Change working directory to a given path. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Thomas Lenz \href{mailto:thomas.lenz96@gmail.com}{\texttt{ thomas.\+lenz96@gmail.\+com}} AS The2b 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
10 November 2018 @project Package Manager 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{Pkg_8h_a3db154f3a3b260e83110c40ea3be7f3c}\label{Pkg_8h_a3db154f3a3b260e83110c40ea3be7f3c}} 
\index{Pkg.h@{Pkg.h}!addScriptsToExclusions@{addScriptsToExclusions}}
\index{addScriptsToExclusions@{addScriptsToExclusions}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{addScriptsToExclusions()}{addScriptsToExclusions()}}
{\footnotesize\ttfamily void add\+Scripts\+To\+Exclusions (\begin{DoxyParamCaption}\item[{std\+::set$<$ std\+::string $>$ \&}]{exclusions }\end{DoxyParamCaption})}



Adds the pre-\/ and post-\/ install/uninstall scripts to the exclusions list. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}in/out\mbox{]}} & std\+::set$<$std\+::string$>$\& exclusions \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{Pkg_8h_a567cbd39854eb13ee9c8ce7e32b1f060}\label{Pkg_8h_a567cbd39854eb13ee9c8ce7e32b1f060}} 
\index{Pkg.h@{Pkg.h}!extractAndExecScript@{extractAndExecScript}}
\index{extractAndExecScript@{extractAndExecScript}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{extractAndExecScript()}{extractAndExecScript()}}
{\footnotesize\ttfamily int extract\+And\+Exec\+Script (\begin{DoxyParamCaption}\item[{std\+::string}]{script\+Name,  }\item[{std\+::string}]{extraction\+Dir,  }\item[{std\+::string}]{archive\+Path,  }\item[{unsigned int}]{verbosity }\end{DoxyParamCaption})}



Extracts and executes a script from a tarball. 

The script must be in the root of the tarball


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em std\+::string} & script\+Name \\
\hline
\mbox{\texttt{ in}}  & {\em std\+::stirng} & extraction\+Dir \\
\hline
\mbox{\texttt{ in}}  & {\em std\+::string} & archive\+Path \\
\hline
\mbox{\texttt{ in}}  & {\em unsigned} & int verbosity \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{Pkg_8h_a2b541937942473fe9cd3c7e8df19c097}\label{Pkg_8h_a2b541937942473fe9cd3c7e8df19c097}} 
\index{Pkg.h@{Pkg.h}!listAllPkgs@{listAllPkgs}}
\index{listAllPkgs@{listAllPkgs}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{listAllPkgs()}{listAllPkgs()}}
{\footnotesize\ttfamily bool list\+All\+Pkgs (\begin{DoxyParamCaption}\item[{std\+::string}]{library\+Path,  }\item[{unsigned int}]{verbosity }\end{DoxyParamCaption})}



Lists all of the packages which we can find in a given directory. 

Per libc standards, none of the functions here can throw exceptions. Therefore, this function will always return true.


\begin{DoxyParams}{Parameters}
{\em std\+::string} & tar\+Library \\
\hline
{\em unsigned} & int verbosity\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool was\+List\+Successful 
\end{DoxyReturn}
\mbox{\Hypertarget{Pkg_8h_a262418e704e8313487c01ab7153674c1}\label{Pkg_8h_a262418e704e8313487c01ab7153674c1}} 
\index{Pkg.h@{Pkg.h}!listInstalledPkgs@{listInstalledPkgs}}
\index{listInstalledPkgs@{listInstalledPkgs}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{listInstalledPkgs()}{listInstalledPkgs()}}
{\footnotesize\ttfamily bool list\+Installed\+Pkgs (\begin{DoxyParamCaption}\item[{std\+::string}]{installed\+Pkgs\+Path,  }\item[{unsigned int}]{verbosity }\end{DoxyParamCaption})}



Lists all of the installed packages which we can find in our installed package index directory. 

Per libc standards, none of the functions here can throw exceptions. Therefore, this function will always return true.


\begin{DoxyParams}{Parameters}
{\em std\+::string} & installed\+Pkgs\+Directoryt \\
\hline
{\em unsigned} & int verbosity\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool was\+List\+Successful 
\end{DoxyReturn}
\mbox{\Hypertarget{Pkg_8h_a7aae83710eaee6db9df385d916cd0d5d}\label{Pkg_8h_a7aae83710eaee6db9df385d916cd0d5d}} 
\index{Pkg.h@{Pkg.h}!moveToDir@{moveToDir}}
\index{moveToDir@{moveToDir}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{moveToDir()}{moveToDir()}}
{\footnotesize\ttfamily bool move\+To\+Dir (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{unsigned int}]{verbosity }\end{DoxyParamCaption})}



Change working directory to a given path. 

Prints an error message on failure


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em std\+::string} & path \\
\hline
\mbox{\texttt{ in}}  & {\em unsigned} & int verbosity\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool success 
\end{DoxyReturn}
\mbox{\Hypertarget{Pkg_8h_a5a8c3142cc39dfb60c616f15ba7e559e}\label{Pkg_8h_a5a8c3142cc39dfb60c616f15ba7e559e}} 
\index{Pkg.h@{Pkg.h}!openArchiveWithTarSupport@{openArchiveWithTarSupport}}
\index{openArchiveWithTarSupport@{openArchiveWithTarSupport}!Pkg.h@{Pkg.h}}
\subsubsection{\texorpdfstring{openArchiveWithTarSupport()}{openArchiveWithTarSupport()}}
{\footnotesize\ttfamily bool open\+Archive\+With\+Tar\+Support (\begin{DoxyParamCaption}\item[{struct archive $\ast$\&}]{a,  }\item[{std\+::string}]{archive\+Path,  }\item[{unsigned int}]{verbosity }\end{DoxyParamCaption})}



Opens an archive for reading and sets up tar support. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em archive$\ast$} & archive \\
\hline
\mbox{\texttt{ in}}  & {\em std\+::string} & archive\+Path \\
\hline
\mbox{\texttt{ in}}  & {\em unsigned} & int verbosity\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool success 
\end{DoxyReturn}
